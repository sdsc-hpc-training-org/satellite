# This is the virtualhost context for the management interface
# It's the default thing that users see, so let's make sure
# it's the first vhost loaded.

<VirtualHost *:443>
  # General setup for the virtual host, inherited from global configuration
  DocumentRoot "/var/www/satellite/html"
  DirectoryIndex index.cgi
  ScriptAlias  "/" "/var/www/satellite/cgi-bin/"
  ServerName manage.comet-user-content.sdsc.edu

  # Use separate log files for the SSL virtual host; note that LogLevel
  # is not inherited from httpd.conf.
  ErrorLog logs/manage.comet-user-content.sdsc.edu_error_log
  TransferLog logs/manage.comet-user-content.sdsc.edu_access_log
  LogLevel warn

  #   SSL Engine Switch:
  #   Enable/Disable SSL for this virtual host.
  SSLEngine on
  SSLProtocol all -SSLv2 -SSLv3 -TLSv1
  SSLCipherSuite DHE-RSA-AES256-GCM-SHA384:DHE-RSA-AES128-GCM-SHA256:DHE-RSA-AES256-SHA256:ECDHE-RSA-AES256-GCM-SHA384:ECDH-RSA-AES256-GCM-SHA384:ECDHE-RSA-AES128-GCM-SHA256:ECDHE-RSA-AES128-SHA256:TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA:TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA:TLS_DHE_RSA_WITH_AES_128_GCM_SHA256:TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256:DHE-RSA-AES256-SHA

  SSLCertificateFile /var/secrets/comet-user-content.sdsc.edu.pem
  SSLCertificateKeyFile /var/secrets/comet-user-content.sdsc.edu.privkey
  SSLCertificateChainFile /var/secrets/incommon-interm.pem

  <Files ~ "\.(cgi|shtml|phtml|php3?)$">
    SSLOptions +StdEnvVars
  </Files>
  <Directory "/var/www/satellite/cgi-bin">
    SSLOptions +StdEnvVars
  </Directory>


</VirtualHost>                                  

